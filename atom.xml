<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://2293736867.github.io</id>
    <title>氷泠&apos;s blog</title>
    <updated>2020-12-08T02:30:04.594Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://2293736867.github.io"/>
    <link rel="self" href="https://2293736867.github.io/atom.xml"/>
    <subtitle>我配不上你，
纵然很努力。</subtitle>
    <logo>https://2293736867.github.io/images/avatar.png</logo>
    <icon>https://2293736867.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, 氷泠&apos;s blog</rights>
    <entry>
        <title type="html"><![CDATA[解决CentOS虚拟机无法显示本地IP问题]]></title>
        <id>https://2293736867.github.io/post/jie-jue-centos-xu-ni-ji-wu-fa-xian-shi-ben-di-ip-wen-ti/</id>
        <link href="https://2293736867.github.io/post/jie-jue-centos-xu-ni-ji-wu-fa-xian-shi-ben-di-ip-wen-ti/">
        </link>
        <updated>2020-12-08T02:20:44.000Z</updated>
        <content type="html"><![CDATA[<p><ul class="markdownIt-TOC">
<li><a href="#1-%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0">1 问题描述</a></li>
<li><a href="#2-%E5%B0%9D%E8%AF%95%E8%BF%87%E7%9A%84%E6%96%B9%E6%B3%95">2 尝试过的方法</a></li>
<li><a href="#3-%E5%8E%9F%E5%9B%A0">3 原因</a></li>
<li><a href="#4-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">4 解决方案</a>
<ul>
<li><a href="#41-%E4%BD%BF%E7%94%A8network">4.1 使用<code>network</code></a></li>
<li><a href="#42-%E4%BD%BF%E7%94%A8networkmanager">4.2 使用<code>NetworkManager</code></a>
<ul>
<li><a href="#421-%E6%89%98%E7%AE%A1%E7%8A%B6%E6%80%81">4.2.1 托管状态</a></li>
<li><a href="#422-%E8%AE%BE%E5%A4%87">4.2.2 设备</a></li>
<li><a href="#423-%E9%9D%99%E6%80%81ip%E6%96%B9%E5%BC%8F">4.2.3 静态<code>ip</code>方式</a></li>
<li><a href="#424-%E5%8A%A8%E6%80%81ip%E6%96%B9%E5%BC%8F">4.2.4 动态<code>ip</code>方式</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</p>
<h1 id="1-问题描述">1 问题描述</h1>
<p><code>CentOS</code>虚拟机无法显示本地<code>ip</code>，如图：</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20201208085647996.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h1 id="2-尝试过的方法">2 尝试过的方法</h1>
<p>参考过<a href="https://blog.csdn.net/qq_41264674/article/details/88246567">此处</a>的解决方法，把网卡配置中的<code>ONBOOT</code>修改为<code>YES</code>：</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20201208085800714.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>但是原来的网卡配置也是<code>YES</code>，所以修改的方法没有用，尝试了一下重启网卡服务：</p>
<pre><code class="language-bash">systemctl restart network
</code></pre>
<p><code>ip</code>还是无法正常显示。</p>
<h1 id="3-原因">3 原因</h1>
<p>查了一下资料，常用的<code>Linux</code>的网络管理服务有两个：</p>
<ul>
<li><code>network</code>服务</li>
<li><code>NetworkManager</code>服务</li>
</ul>
<p>前者是基础服务，通常在服务器中使用，当然在图形界面也有，通常使用命令行配置，而<code>NetworkManager</code>一般在图形界面安装，是为了方便<code>ip</code>的配置，要注意的是两个之中只能有一个生效，因此需要选择一个禁用。在笔者这种情况下应该是两者冲突了，导致不能正常显示本地<code>ip</code>，可以使用</p>
<pre><code class="language-bash">systemctl status network
systemctl status NetworkManager
</code></pre>
<p>查看两服务状态，如果不是服务冲突的话应该就是配置出错了的原因。</p>
<h1 id="4-解决方案">4 解决方案</h1>
<h2 id="41-使用network">4.1 使用<code>network</code></h2>
<p>先把<code>NetworkManager</code>禁用：</p>
<pre><code class="language-bash">systemctl stop NetworkManager
systemctl status NetworkManager
</code></pre>
<p>禁用之后重启<code>network</code>：</p>
<pre><code class="language-bash">systemctl restart network
</code></pre>
<p>这样就能显示出本地<code>ip</code>了。</p>
<p>若还是不能显示请检查网卡配置，在<code>/etc/sysconfig/network-scripts</code>下，笔者的是<code>/etc/sysconfig/network-scripts/ifcfg-ens33</code>。</p>
<h2 id="42-使用networkmanager">4.2 使用<code>NetworkManager</code></h2>
<p>使用<code>NetworkManager</code>的话先把<code>network</code>禁用：</p>
<pre><code class="language-bash">systemctl stop network
systemctl status network
</code></pre>
<p>再把<code>NetworkManager</code>启动：</p>
<pre><code class="language-bash">systemctl start NetworkManager
</code></pre>
<p>接下来使用<code>nmcli</code>进行操作。</p>
<h3 id="421-托管状态">4.2.1 托管状态</h3>
<p>首先查看托管状态：</p>
<pre><code class="language-bash">nmcli n
</code></pre>
<p>若显示<code>disabled</code>：</p>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20201208093511329.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>开启即可：</p>
<pre><code class="language-bash">nmcli n on
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/2020120809355423.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h3 id="422-设备">4.2.2 设备</h3>
<p>查看设备：</p>
<pre><code class="language-bash">nmcli d
</code></pre>
<p>笔者机器上显示如下：</p>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20201208093141329.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>接下来创建连接，有两种方式创建：动/静态<code>ip</code>：</p>
<pre><code class="language-bash"># 静态ip方式创建connection
nmcli c add type ethernet con-name connect_name_1 ifname ens33 ipv4.addr 192.168.126.151/24 ipv4.gateway 192.168.126.1 ipv4.method manual

# 动态ip方式创建connection
nmcli c add type ethernet con-name connect_name_2 ifname ens33 ipv4.method auto
</code></pre>
<h3 id="423-静态ip方式">4.2.3 静态<code>ip</code>方式</h3>
<pre><code class="language-bash">nmcli c add type ethernet con-name connect_name_1 ifname ens33 ipv4.addr 192.168.126.151/24 ipv4.gateway 192.168.126.1 ipv4.method manual
</code></pre>
<p>参数说明：</p>
<ul>
<li><code>nmcli c add</code>：创建连接</li>
<li><code>type</code>：连接类型</li>
<li><code>con-name</code>：连接名称</li>
<li><code>ifname</code>：网卡名</li>
<li><code>ipv4.addr</code>：<code>ipv4</code>静态<code>ip</code>，这里是<code>192.168.126.151</code>，<code>24</code>表示子网掩码</li>
<li><code>ipv4.gateway</code>：网关，把最后<code>ip</code>最后置<code>1</code>即可，这里是<code>192.168.126.1</code></li>
<li><code>ipv4.method</code>：后面的参数<code>manual</code>表示配置静态<code>ip</code>，注意一下该参数很重要，因为默认为<code>auto</code>，也就是如果不指定该参数会出现两个<code>ip</code>，一个静态+一个动态</li>
</ul>
<p>创建好连接之后应该就能显示<code>ip</code>了：</p>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20201208095500972.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>就是刚才手动指定的静态<code>ip</code>，如果还是不能显示<code>ip</code>可以手动连接设备：</p>
<pre><code class="language-bash">nmcli d connect ens33
</code></pre>
<h3 id="424-动态ip方式">4.2.4 动态<code>ip</code>方式</h3>
<pre><code class="language-bash">nmcli c add type ethernet con-name connect_name_2 ifname ens33 ipv4.method auto
</code></pre>
<p>参数与上面的基本一致，区别就是<code>auto</code>，表示动态方式配置<code>ip</code>，这样就配置完成了，可以直接查看<code>ip</code>：</p>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/20201208095834514.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>如果还是没有<code>ip</code>可以尝试手动连接设备：</p>
<pre><code class="language-bash">nmcli d connect ens33 
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第177期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-177-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-177-qi/">
        </link>
        <updated>2020-12-08T01:20:23.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>想要逼死一个强迫症，那实在是太简了。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>雪照山城玉指寒，一声羌管怨楼间。<br>
——刘著《鹧鸪天·雪照山城玉指寒》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>不逆 不耻 不憾</p>
</blockquote>
<h1 id="k231"><code>K231</code></h1>
<p>周末去见了女朋友</p>
<p>然而行程并不太顺利</p>
<p>也不知道自己搞什么</p>
<p>同一辆火车居然也能错过两次</p>
<p>感觉自己拖累了女朋友</p>
<p>我很内疚</p>
<p>真的</p>
<p>害</p>
<p>这</p>
<p>该死的爱情</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第176期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-176-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-176-qi/">
        </link>
        <updated>2020-12-06T22:37:09.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>我能想到，对自己最准确的形容词只有：肥美。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>草喝离宫转夕晖，孤云漂泊复何依？<br>
——文天祥《金陵驿二首》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>最折磨人的或许不是一场惨烈战争，而是繁琐的日常生活。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第175期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-175-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-175-qi/">
        </link>
        <updated>2020-12-05T22:34:50.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>曾经我也是打算靠脸吃饭的，后来差点饿死才放弃的。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>我欲乘风归去，又恐琼楼玉宇，高处不胜寒。<br>
——苏轼《水调歌头·明月几时有》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>后代人的权利远比当代人的欲望重要。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第174期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-174-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-174-qi/">
        </link>
        <updated>2020-12-04T22:32:37.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>其实你也有超能力，怎么减都不瘦的能力。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>风萧萧兮易水寒，壮士一去兮不复还。<br>
——佚名《荆轲歌/渡易水歌》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>和你们这些少爷不同，我们光是活着就竭尽全力了。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第173期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-173-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-173-qi/">
        </link>
        <updated>2020-12-04T15:32:24.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>不要老是觉得自己孤单，看看肚子上那圈肥肉，不是从来没有离开过吗？</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>急雨捎溪足，斜晖转树腰。<br>
——杜甫《绝句六首》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>曾盛开过一朵，曾不会败落，曾在他眼中流淌过浩瀚的银河。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第172期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-172-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-172-qi/">
        </link>
        <updated>2020-12-03T14:48:38.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>少小离家老大回，骚话学了一大堆。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>西风吹老洞庭波，一夜湘君白发多。<br>
——唐珙《题龙阳县青草湖》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>太想伸手摘取星星的人，常常忘记脚下的鲜花。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第171期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-171-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-171-qi/">
        </link>
        <updated>2020-12-01T23:10:02.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>你给小草一点爱，小草还你一片绿。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>谁念西风独自凉，萧萧黄叶闭疏窗，沉思往事立斜阳。<br>
——纳兰性德《浣溪沙·谁念西风独自凉》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>如果爱，请深爱，如不爱，请离开。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 170期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-170-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-170-qi/">
        </link>
        <updated>2020-12-01T15:07:01.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>西游记告诉我们，有个猪一样的队友，能让团队上西天。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>多情为谢残阳意，与展晴霞片片红。<br>
——佚名《杂诗》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>胸不平何以平天下，乳不巨何以聚人心。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第169期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-170-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-170-qi/">
        </link>
        <updated>2020-11-30T06:25:54.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>这次期末考，我会用实力告诉你，我们年纪都多少人。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>风吹古木晴天雨，月照平沙夏夜霜。<br>
——白居易《江楼夕望招客》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>恰沐春风共同游，终只叹，木已舟。</p>
</blockquote>
<h1 id="月底">月底</h1>
<p>又一个月月底了啊，不知不觉就12月了。</p>
<p>距离2021年，只有一个月了。</p>
<p>害。</p>
]]></content>
    </entry>
</feed>