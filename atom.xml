<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://2293736867.github.io</id>
    <title>氷泠&apos;s blog</title>
    <updated>2021-01-05T02:41:25.284Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://2293736867.github.io"/>
    <link rel="self" href="https://2293736867.github.io/atom.xml"/>
    <subtitle>我配不上你，
纵然很努力。</subtitle>
    <logo>https://2293736867.github.io/images/avatar.png</logo>
    <icon>https://2293736867.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, 氷泠&apos;s blog</rights>
    <entry>
        <title type="html"><![CDATA[每日分享 第206期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-206-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-206-qi/">
        </link>
        <updated>2021-01-06T00:46:41.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>只有努力过了才知道，智商上的差距，是不可逾越的。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>白日登山望烽火，黄昏饮马傍交河。<br>
——李颀《古从军行》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>在人间有谁活着不像是一场炼狱，我不哭我已经没有尊严能放弃。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[解决Echarts+<el-tab-pane>的警告：Can't get DOM width or height]]></title>
        <id>https://2293736867.github.io/post/jie-jue-echartslessel-tab-panegreaterde-jing-gao-cant-get-dom-width-or-height/</id>
        <link href="https://2293736867.github.io/post/jie-jue-echartslessel-tab-panegreaterde-jing-gao-cant-get-dom-width-or-height/">
        </link>
        <updated>2021-01-05T02:34:32.000Z</updated>
        <content type="html"><![CDATA[<h1 id="1-问题描述">1 问题描述</h1>
<p>环境：</p>
<ul>
<li><code>Chrome 87</code></li>
<li><code>Element-Plus</code></li>
<li><code>Vue3.0.5</code></li>
<li><code>&lt;el-tab&gt;</code>+<code>&lt;el-tab-pane&gt;</code>中使用<code>Echarts</code></li>
</ul>
<p>警告如下：</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/2021010510082882.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h1 id="2-代码">2 代码</h1>
<pre><code class="language-html">&lt;el-tabs type=&quot;border-card&quot;&gt;
    &lt;el-tab-pane label=&quot;xxx&quot;&gt;
        &lt;div id=&quot;main&quot; style=&quot;width: 500px;height: 500px;&quot;&gt;
        &lt;/div&gt;
    &lt;/el-tab-pane&gt;
&lt;/el-tabs&gt;
</code></pre>
<pre><code class="language-js">export default {
    mounted() {
        var category = echarts.init(document.getElementById('main'))
        //...
    }
}
</code></pre>
<h1 id="3-原因分析">3 原因分析</h1>
<p>原因是<code>&lt;el-tab-pane&gt;</code>，具体可以查看<a href="https://github.com/apache/incubator-echarts/issues/6528">这里</a>的<code>issue</code>：</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20210105101341938.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p><code>Echarts</code>警告的关键是<code>clientWidth</code>和<code>clienHeight</code>，直接在代码中固定高宽时：</p>
<pre><code class="language-html">&lt;div id=&quot;main&quot; style=&quot;width: 500px;height: 500px;&quot;&gt;&lt;/div&gt;
</code></pre>
<p>控制台打印为<code>clientHeight</code>/<code>clientWidth</code>：</p>
<pre><code class="language-js">console.log(document.getElementById('main').clientWidth)
console.log(document.getElementById('main').clientHeight)
</code></pre>
<p>两者均为<code>0</code>，原因在于<code>&lt;el-tab-pane&gt;</code>，将图表放到外面时并没有警告：</p>
<pre><code class="language-html">&lt;el-tabs type=&quot;border-card&quot;&gt;
    &lt;div id=&quot;main&quot; style=&quot;width: 500px;height: 500px;&quot;&gt;
    &lt;/div&gt;
    &lt;el-tab-pane label=&quot;xxx&quot;&gt;
    &lt;/el-tab-pane&gt;
&lt;/el-tabs&gt;
</code></pre>
<p>初始化<code>Echarts</code>时，<code>&lt;el-tab-pane&gt;</code>并没有让<code>Echarts</code>获取正确的<code>clientHeight</code>以及<code>clientWidth</code>，尝试过的解决方法是监听<code>tab-click</code>：</p>
<pre><code class="language-html">&lt;el-tabs type=&quot;border-card&quot; @tab-click=&quot;xxx&quot;&gt;
    &lt;el-tab-pane label=&quot;xxx&quot;&gt;
        &lt;div id=&quot;main&quot; style=&quot;width: 500px;height: 500px;&quot;&gt;
        &lt;/div&gt;
    &lt;/el-tab-pane&gt;
&lt;/el-tabs&gt;
</code></pre>
<p>但是这需要手动点击<code>tab</code>才能监听到，也就是如果设置了默认<code>tab</code>这是无法监听到的。</p>
<p>另一个尝试过的方案是手动设置<code>width</code>/<code>height</code>：</p>
<pre><code class="language-html">&lt;el-tabs type=&quot;border-card&quot;&gt;
    &lt;el-tab-pane label=&quot;xxx&quot;&gt;
        &lt;div id=&quot;main&quot; ref=&quot;main&quot; style=&quot;width: 500px;height: 500px;&quot;&gt;
        &lt;/div&gt;
    &lt;/el-tab-pane&gt;
&lt;/el-tabs&gt;
</code></pre>
<pre><code class="language-js">mounted(){
    this.$refs.main.style.width=500
    this.$refs.main.style.height=500
    var chart = echarts.init(document.getElementById('main'))
}
</code></pre>
<p>也是不行。</p>
<h1 id="4-解决方案">4 解决方案</h1>
<p>使用<code>Object.defineProperty</code>设置<code>clientWidth</code>/<code>clientHeight</code>：</p>
<pre><code class="language-js">mounted(){
    Object.defineProperty(document.getElementById('main'),'clientWidth',{get:function(){return 500;}})
    Object.defineProperty(document.getElementById('main'),'clientHeight',{get:function(){return 500;}})
    var chart = echarts.init(document.getElementById('main'))
}
</code></pre>
<p>同时也可以把<code>div</code>上的<code>style</code>去掉：</p>
<pre><code class="language-html">&lt;div id=&quot;main&quot;&gt;&lt;/div&gt;
</code></pre>
<p>这样就不会出现警告了。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第205期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-205-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-205-qi/">
        </link>
        <updated>2021-01-05T00:43:53.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>我是一条酸菜鱼，又酸又菜，还多余。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>黄师塔前江水东，春光懒困倚微风。<br>
——杜甫《江畔独步寻花·其五》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>打雷时你想到的是要下雨还是她害怕。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue3+Vite引入Echarts5.0图表库]]></title>
        <id>https://2293736867.github.io/post/vue3vite-yin-ru-echarts50-tu-biao-ku/</id>
        <link href="https://2293736867.github.io/post/vue3vite-yin-ru-echarts50-tu-biao-ku/">
        </link>
        <updated>2021-01-04T13:16:31.000Z</updated>
        <content type="html"><![CDATA[<h1 id="1-概述">1 概述</h1>
<p>环境<code>Vue3</code>+<code>Vite</code>，需要引入<code>ECharts</code>库。</p>
<h1 id="2-尝试">2 尝试</h1>
<p>目前<code>ECharts</code>已更新到<code>5.0</code>版本，在<code>Vue</code>中引入并不难，<code>npm</code>/<code>cnpm</code>安装后在需要的组件中引入：</p>
<pre><code class="language-js">import echarts from 'echarts'
</code></pre>
<p>即可。</p>
<p>但，</p>
<p>问题是这是以前的版本可行的，更新到<code>5.0</code>版本后需要使用其他方法。</p>
<p>另一方面官方文档是使用<code>require</code>引入：</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/2021010421031267.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>但是，这是在<code>Webpack</code>的情况下，在<code>Vite</code>中并不能直接使用<code>require</code>，官方<code>issue</code>有<a href="https://github.com/vitejs/vite/issues/986">讨论</a>，明说了<code>require</code>不支持，这是一个<code>Node</code>的特性，建议使用<code>import</code>：</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20210104210508846.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h1 id="3-解决方案">3 解决方案</h1>
<p>先安装：</p>
<pre><code class="language-bash">npm install --save echarts
#或
cnpm install --save echarts
</code></pre>
<p>安装后在需要使用的组件中使用<code>import</code>引入：</p>
<pre><code class="language-js">import * as echarts from 'echarts'
...
mounted(){
	var myChart = echarts.init(document.getElementById('main'))
	//...
}
</code></pre>
<p>这样就能正常使用了。</p>
<p>最重要的就是将以前的</p>
<pre><code class="language-js">import echarts from 'echarts'
</code></pre>
<p>改为</p>
<pre><code class="language-js">import * as echarts from 'echarts'
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux下禁用笔记本触摸板]]></title>
        <id>https://2293736867.github.io/post/linux-xia-jin-yong-bi-ji-ben-hong-mo-ban/</id>
        <link href="https://2293736867.github.io/post/linux-xia-jin-yong-bi-ji-ben-hong-mo-ban/">
        </link>
        <updated>2021-01-04T08:19:52.000Z</updated>
        <content type="html"><![CDATA[<h1 id="1-概述">1 概述</h1>
<p>在<code>Linux</code>下禁用触摸板的方法有很多，这里列举三种：</p>
<ul>
<li>图形界面配置关闭</li>
<li><code>modprobe</code>关闭</li>
<li><code>xinput</code>关闭</li>
</ul>
<h1 id="2-图形界面配置关闭">2 图形界面配置关闭</h1>
<p>笔者的环境为<code>Manjaro</code>+<code>Xfce</code>，其他的桌面也应该类似，开始菜单搜索<code>touchpad</code>即可出现相应选项：</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20210104160521375.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>关闭即可：</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20210104160558108.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h1 id="3-modprobe">3 <code>modprobe</code></h1>
<p>关闭：</p>
<pre><code class="language-bash">sudo modprobe -r psmouse
</code></pre>
<p>开启：</p>
<pre><code class="language-bash">sudo modprobe -a psmous
</code></pre>
<p>这种方式在笔者测试的时候失败了，提示说该模块是内置模块无法关闭：</p>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20210104160805785.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>该关闭方法仅供参考，不行的话建议选择下面的使用<code>xinput</code>关闭。</p>
<h1 id="4-xinput">4 <code>xinput</code></h1>
<p><code>xinput</code>命令是用来配置和测试<code>X</code>输入设备的工具，包括但不限于键盘，鼠标等，在这里用作关闭触摸板，基于同样的道理可以关闭键盘等。</p>
<p>首先使用：</p>
<pre><code class="language-bash">xinput list
</code></pre>
<p>查看设备列表：</p>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/20210104161255938.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>可以看到<code>id=12</code>的就是触摸板设备，使用</p>
<pre><code class="language-bash">xinput list-props 12
</code></pre>
<p>查看设备的详细信息：</p>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20210104161404497.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>把其中的<code>Device Enabled</code>设置为<code>0</code>即可禁用：</p>
<pre><code class="language-bash">xinput set-prop 12 'Device Enabled' 0
</code></pre>
<p>或者使用<code>Device Enabled</code>后面的数字也可以禁用：</p>
<pre><code class="language-bash">xinput set-prop 12 154 0
</code></pre>
<p>启用进行相反的处理即可，设置为<code>1</code>：</p>
<pre><code class="language-bash">xinput set-prop 12 'Device Enabled' 1
# 或
xinput set-prop 12 154 1
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第204期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-204-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-204-qi/">
        </link>
        <updated>2021-01-04T03:53:07.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>没有什么事情能把人一次击倒，只要足够坚强，它会持续的把你击倒。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>红影湿幽窗，瘦尽春光。<br>
——纳兰性德《浪淘沙·红影湿幽窗》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>心系一处，守口如瓶。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第203期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-203-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-203-qi/">
        </link>
        <updated>2021-01-03T03:51:08.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>自古情深留不住，总是套路得人心。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>雨暗初疑夜，风回忽报晴。<br>
——苏轼《南歌子·寓意》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>是个男人就要对自己的人生负责。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日一句 201-250期合集]]></title>
        <id>https://2293736867.github.io/post/mei-ri-yi-ju-201-250-qi-he-ji/</id>
        <link href="https://2293736867.github.io/post/mei-ri-yi-ju-201-250-qi-he-ji/">
        </link>
        <updated>2021-01-02T04:12:14.000Z</updated>
        <content type="html"><![CDATA[<h1 id="第201期">第201期</h1>
<blockquote>
<p>忘掉生日，忘掉青涩的诗，忘掉他不厌其烦夜夜追逐他影子。</p>
</blockquote>
<h1 id="第202期">第202期</h1>
<blockquote>
<p>祈愿万家灯火熨烫过脉络，刀山与火海多深刻，都陪你渡过。</p>
</blockquote>
<h1 id="第203期">第203期</h1>
<blockquote>
<p>是个男人就要对自己的人生负责。</p>
</blockquote>
<h1 id="第204期">第204期</h1>
<blockquote>
<p>心系一处，守口如瓶。</p>
</blockquote>
<h1 id="第205期">第205期</h1>
<blockquote></blockquote>
<h1 id="第206期">第206期</h1>
<blockquote></blockquote>
<h1 id="第207期">第207期</h1>
<blockquote></blockquote>
<h1 id="第208期">第208期</h1>
<blockquote></blockquote>
<h1 id="第209期">第209期</h1>
<blockquote></blockquote>
<h1 id="第210期">第210期</h1>
<blockquote></blockquote>
<h1 id="第211期">第211期</h1>
<blockquote></blockquote>
<h1 id="第212期">第212期</h1>
<blockquote></blockquote>
<h1 id="第213期">第213期</h1>
<blockquote></blockquote>
<h1 id="第214期">第214期</h1>
<blockquote></blockquote>
<h1 id="第215期">第215期</h1>
<blockquote></blockquote>
<h1 id="第216期">第216期</h1>
<blockquote></blockquote>
<h1 id="第217期">第217期</h1>
<blockquote></blockquote>
<h1 id="第218期">第218期</h1>
<blockquote></blockquote>
<h1 id="第219期">第219期</h1>
<blockquote></blockquote>
<h1 id="第220期">第220期</h1>
<blockquote></blockquote>
<h1 id="第221期">第221期</h1>
<blockquote></blockquote>
<h1 id="第222期">第222期</h1>
<blockquote></blockquote>
<h1 id="第223期">第223期</h1>
<blockquote></blockquote>
<h1 id="第224期">第224期</h1>
<blockquote></blockquote>
<h1 id="第225期">第225期</h1>
<blockquote></blockquote>
<h1 id="第226期">第226期</h1>
<blockquote></blockquote>
<h1 id="第227期">第227期</h1>
<blockquote></blockquote>
<h1 id="第228期">第228期</h1>
<blockquote></blockquote>
<h1 id="第229期">第229期</h1>
<blockquote></blockquote>
<h1 id="第230期">第230期</h1>
<blockquote></blockquote>
<h1 id="第231期">第231期</h1>
<blockquote></blockquote>
<h1 id="第232期">第232期</h1>
<blockquote></blockquote>
<h1 id="第233期">第233期</h1>
<blockquote></blockquote>
<h1 id="第234期">第234期</h1>
<blockquote></blockquote>
<h1 id="第235期">第235期</h1>
<blockquote></blockquote>
<h1 id="第236期">第236期</h1>
<blockquote></blockquote>
<h1 id="第237期">第237期</h1>
<blockquote></blockquote>
<h1 id="第238期">第238期</h1>
<blockquote></blockquote>
<h1 id="第239期">第239期</h1>
<blockquote></blockquote>
<h1 id="第240期">第240期</h1>
<blockquote></blockquote>
<h1 id="第241期">第241期</h1>
<blockquote></blockquote>
<h1 id="第242期">第242期</h1>
<blockquote></blockquote>
<h1 id="第243期">第243期</h1>
<blockquote></blockquote>
<h1 id="第244期">第244期</h1>
<blockquote></blockquote>
<h1 id="第245期">第245期</h1>
<blockquote></blockquote>
<h1 id="第246期">第246期</h1>
<blockquote></blockquote>
<h1 id="第247期">第247期</h1>
<blockquote></blockquote>
<h1 id="第248期">第248期</h1>
<blockquote></blockquote>
<h1 id="第249期">第249期</h1>
<blockquote></blockquote>
<h1 id="第250期">第250期</h1>
<blockquote></blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第202期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-202-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-202-qi/">
        </link>
        <updated>2021-01-02T03:47:38.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>以前我每天都会买彩票，终于有一天，我连彩票都买不起了。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>地晴丝冉冉，江白草纤纤。<br>
——杜甫《绝句六首》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>祈愿万家灯火熨烫过脉络，刀山与火海多深刻，都陪你渡过。</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[每日分享 第201期]]></title>
        <id>https://2293736867.github.io/post/mei-ri-fen-xiang-di-201-qi/</id>
        <link href="https://2293736867.github.io/post/mei-ri-fen-xiang-di-201-qi/">
        </link>
        <updated>2021-01-01T03:44:02.000Z</updated>
        <content type="html"><![CDATA[<h1 id="每日鸡汤">每日鸡汤</h1>
<blockquote>
<p>出卖自己的灵魂和原则并不丢人，丢人的是没能卖一个好价钱。</p>
</blockquote>
<h1 id="每日诗词">每日诗词</h1>
<blockquote>
<p>青海长云暗雪山，孤城遥望玉门关。<br>
——王昌龄《从军行七首·其四》</p>
</blockquote>
<h1 id="每日一句">每日一句</h1>
<blockquote>
<p>忘掉生日，忘掉青涩的诗，忘掉他不厌其烦夜夜追逐他影子。</p>
</blockquote>
]]></content>
    </entry>
</feed>