
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>SpringBoot+Gradle构建多模块项目 | 氷泠&#39;s blog</title>
<meta name="description" content="我配不上你，
纵然很努力。">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://2293736867.github.io/favicon.ico?v=1615370942909">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://2293736867.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://2293736867.github.io">
        <img class="avatar" src="https://2293736867.github.io/images/avatar.png?v=1615370942909" alt="" width="32px" height="32px">
      </a>
      <a href="https://2293736867.github.io">
        <h1 class="site-title">氷泠&#39;s blog</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/archives" class="menu purple-link">
            归档
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            关于
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
            <div class="feature-container" style="background-image: url('https://2293736867.github.io/post-images/springbootgradle-gou-jian-duo-mo-kuai-xiang-mu.jpeg')">
            </div>
          
          <h2 class="post-title">SpringBoot+Gradle构建多模块项目</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2021-03-02</span>
            
              <span>
                <i class="icon-pricetags-outline"></i>
                
                  <a href="https://2293736867.github.io/tag/jEhLpTJ4y/">
                    Kotlin DSL
                    
                      ，
                    
                  </a>
                
                  <a href="https://2293736867.github.io/tag/jRXlnJ0Cl/">
                    Gradle
                    
                      ，
                    
                  </a>
                
                  <a href="https://2293736867.github.io/tag/eB6hSy8EZ/">
                    Kotlin
                    
                      ，
                    
                  </a>
                
                  <a href="https://2293736867.github.io/tag/jLOEqgo2m/">
                    Spring Boot
                    
                      ，
                    
                  </a>
                
                  <a href="https://2293736867.github.io/tag/-AktfIpz8/">
                    Java
                    
                  </a>
                
              </span>
            
          </div>
          <div class="post-content">
            <p><ul class="markdownIt-TOC">
<li><a href="#1-%E6%A6%82%E8%BF%B0">1 概述</a></li>
<li><a href="#2-%E7%8E%AF%E5%A2%83">2 环境</a></li>
<li><a href="#3-java-gradle">3 <code>Java + Gradle</code></a>
<ul>
<li><a href="#31-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE">3.1 创建项目</a></li>
<li><a href="#32-%E4%BF%AE%E6%94%B9buildgradle">3.2 修改<code>build.gradle</code></a></li>
<li><a href="#33-%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9D%97">3.3 创建模块</a></li>
<li><a href="#34-%E7%BC%96%E5%86%99%E6%A8%A1%E5%9D%97">3.4 编写模块</a>
<ul>
<li><a href="#341-service%E6%A8%A1%E5%9D%97">3.4.1 <code>service</code>模块</a></li>
<li><a href="#342-app%E6%A8%A1%E5%9D%97">3.4.2 <code>app</code>模块</a></li>
</ul>
</li>
<li><a href="#35-%E8%BF%90%E8%A1%8C">3.5 运行</a></li>
<li><a href="#36-%E6%B5%8B%E8%AF%95">3.6 测试</a></li>
</ul>
</li>
<li><a href="#4-kotlin-gradle-kotlin-dsl">4 <code>Kotlin + Gradle + Kotlin DSL</code></a>
<ul>
<li><a href="#41-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE">4.1 创建项目</a></li>
<li><a href="#42-%E4%BF%AE%E6%94%B9buildgradlekts">4.2 修改<code>build.gradle.kts</code></a></li>
<li><a href="#43-%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9D%97">4.3 创建模块</a></li>
<li><a href="#44-%E7%BC%96%E5%86%99%E6%A8%A1%E5%9D%97">4.4 编写模块</a>
<ul>
<li><a href="#441-service%E6%A8%A1%E5%9D%97">4.4.1 <code>service</code>模块</a></li>
<li><a href="#442-app%E6%A8%A1%E5%9D%97">4.4.2 <code>app</code>模块</a></li>
</ul>
</li>
<li><a href="#45-%E8%BF%90%E8%A1%8C">4.5 运行</a></li>
<li><a href="#46-%E6%B5%8B%E8%AF%95">4.6 测试</a></li>
</ul>
</li>
<li><a href="#5-%E6%80%BB%E7%BB%93">5 总结</a></li>
<li><a href="#6-%E6%BA%90%E7%A0%81">6 源码</a></li>
</ul>
</p>
<h1 id="1-概述">1 概述</h1>
<p><code>Gradle</code>由于构建速度比<code>Maven</code>快，且比<code>Maven</code>灵活，因此很多后端的应用都使用了<code>Gradle</code>进行构建，但一个问题是，<code>Gradle</code>的多模块项目比较难构建，再加上<code>Gradle</code>的更新非常快，这就给构建一个多模块<code>Gradle</code>项目造成了不少的困难。</p>
<p>基于此出发点，本文提供了两种形式的使用<code>Gradle</code>构建的<code>Spring Boot</code>多模块项目：</p>
<ul>
<li><code>Java + Gradle</code></li>
<li><code>Kotlin + Gradle + Kotlin DSL</code></li>
</ul>
<p>为了减少出现各种错误的概率，步骤做得非常详细（多图预警），文末也附上了源码，下面就一起来看看吧。</p>
<h1 id="2-环境">2 环境</h1>
<ul>
<li><code>Gradle 6.8.2</code></li>
<li><code>Spring Boot 2.4.3</code></li>
<li><code>Kotlin 1.4.30</code></li>
<li><code>Open JDK 11</code></li>
</ul>
<h1 id="3-java-gradle">3 <code>Java + Gradle</code></h1>
<p>主要步骤：</p>
<ul>
<li>使用<code>Spring Initializer</code>创建项目</li>
<li>修改<code>build.gradle</code></li>
<li>创建模块</li>
<li>编写模块</li>
<li>运行</li>
<li>测试</li>
</ul>
<h2 id="31-创建项目">3.1 创建项目</h2>
<p>直接使用<code>IDEA</code>提供的<code>Spring Initializer</code>即可，构建工具选择<code>Gradle</code>：</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20210302182258479.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>依赖：</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20210302203252834.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p><strong>构建完成后删除<code>src</code>目录</strong>，因为根目录属于管理模块目录不提供运行的应用：</p>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20210302182628108.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="32-修改buildgradle">3.2 修改<code>build.gradle</code></h2>
<p>这是最复杂的一步，并且<code>Gradle</code>版本更新的话步骤可能会不一样，<strong>首先在底部添加一个空的<code>subprojects</code></strong>：</p>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/2021030218292823.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>接着<strong>把<code>dependencies</code>以及<code>test</code>移动进去</strong>：</p>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20210302183050141.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>最后一步是，<strong>在<code>subprojects</code>开头，添加插件<code>apply</code>，根据默认初始化创建的<code>plugins</code>，逐一添加</strong>。</p>
<p>比如这里默认使用了三个插件：</p>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20210302183301588.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p><code>apply</code>到<code>subprojects</code>中：</p>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/20210302183725544.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="33-创建模块">3.3 创建模块</h2>
<p><code>File -&gt; New -&gt; Module</code>：</p>
<figure data-type="image" tabindex="8"><img src="https://img-blog.csdnimg.cn/20210302183544698.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>输入模块名即可，这里的例子是创建两个模块：</p>
<ul>
<li><strong><code>service</code></strong></li>
<li><strong><code>app</code></strong></li>
</ul>
<figure data-type="image" tabindex="9"><img src="https://img-blog.csdnimg.cn/2021030218391243.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="10"><img src="https://img-blog.csdnimg.cn/20210302183958660.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>创建好后如图所示：</p>
<figure data-type="image" tabindex="11"><img src="https://img-blog.csdnimg.cn/2021030218410737.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>完成创建之后，<strong>把两个模块中的<code>build.gradle</code>除了<code>repositories</code>之外的全部删去</strong>，仅保留<code>repositories</code>：</p>
<figure data-type="image" tabindex="12"><img src="https://img-blog.csdnimg.cn/20210302184254983.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="13"><img src="https://img-blog.csdnimg.cn/20210302184353774.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="34-编写模块">3.4 编写模块</h2>
<h3 id="341-service模块">3.4.1 <code>service</code>模块</h3>
<p>首先<strong>创建包</strong>，根据根目录中的<code>group</code>创建：</p>
<figure data-type="image" tabindex="14"><img src="https://img-blog.csdnimg.cn/20210302184845857.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="15"><img src="https://img-blog.csdnimg.cn/20210302184922482.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>接着编写一个叫<code>TestService</code>的带<code>@Service</code>注解的类，里面包含一个<code>test</code>方法：</p>
<figure data-type="image" tabindex="16"><img src="https://img-blog.csdnimg.cn/20210302185028647.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>同时修改<code>service</code>模块的<code>build.gradle</code>，<strong>添加<code>bootJar</code>以及<code>jar</code>选项</strong>：</p>
<pre><code class="language-bash">bootJar{
    enabled = false
}

jar{
    enabled = true
}
</code></pre>
<figure data-type="image" tabindex="17"><img src="https://img-blog.csdnimg.cn/20210302184713211.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h3 id="342-app模块">3.4.2 <code>app</code>模块</h3>
<p>同样先根据根目录的<code>group</code><strong>创建包</strong>：</p>
<figure data-type="image" tabindex="18"><img src="https://img-blog.csdnimg.cn/20210302185147370.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>接着在<code>app</code>模块的<code>build.gradle</code><strong>添加<code>service</code>模块的依赖</strong>：</p>
<figure data-type="image" tabindex="19"><img src="https://img-blog.csdnimg.cn/20210302185447644.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>再创建启动类以及一个<code>Controller</code>：</p>
<figure data-type="image" tabindex="20"><img src="https://img-blog.csdnimg.cn/20210302185526487.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>代码如下：</p>
<pre><code class="language-java">package com.example;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class,args);
    }
}
</code></pre>
<pre><code class="language-java">package com.example.controller;

import com.example.service.TestService;
import lombok.RequiredArgsConstructor;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequiredArgsConstructor(onConstructor = @__(@Autowired))
public class TestController {
    private final TestService service;
    @GetMapping(&quot;/test&quot;)
    public String test(){
        return service.test();
    }
}
</code></pre>
<h2 id="35-运行">3.5 运行</h2>
<p>接下来就可以运行了，可以直接点击<code>Application</code>旁边的绿色小三角：</p>
<figure data-type="image" tabindex="21"><img src="https://img-blog.csdnimg.cn/2021030218570925.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>或者从运行配置中选择<code>Application</code>运行（<code>IDEA</code>自动创建的，原来的那个<code>DemoApplication</code>带一个×是因为启动文件已经删除了，可以顺便把该配置删除）：</p>
<figure data-type="image" tabindex="22"><img src="https://img-blog.csdnimg.cn/20210302185745193.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>没问题的话就可以成功运行了：</p>
<figure data-type="image" tabindex="23"><img src="https://img-blog.csdnimg.cn/20210302185917750.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>同时浏览器访问<code>localhost:8080/test</code>会出现<code>test</code>字样：</p>
<figure data-type="image" tabindex="24"><img src="https://img-blog.csdnimg.cn/20210302190006675.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="36-测试">3.6 测试</h2>
<p>在创建测试类之前，也需要<strong>先创建包，且需要确保包名与启动类的包名一致</strong>：</p>
<figure data-type="image" tabindex="25"><img src="https://img-blog.csdnimg.cn/20210302202906337.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>再创建测试类：</p>
<figure data-type="image" tabindex="26"><img src="https://img-blog.csdnimg.cn/20210302203102853.png" alt="在这里插入图片描述" loading="lazy"></figure>
<pre><code class="language-java">package com.example;

import com.example.service.TestService;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
public class JavaTest {
    @Autowired
    private TestService service;
    @Test
    public void test(){
        System.out.println(service.test());
    }
}
</code></pre>
<p>接着进行测试：</p>
<figure data-type="image" tabindex="27"><img src="https://img-blog.csdnimg.cn/20210302203048671.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>这样使用<code>Java</code>+<code>Gradle</code>构建一个多模块的<code>Spring Boot</code>项目就成功了。</p>
<h1 id="4-kotlin-gradle-kotlin-dsl">4 <code>Kotlin + Gradle + Kotlin DSL</code></h1>
<p><code>Kotlin DSL</code>在原生<code>Gradle</code>（<code>Groovy DSL</code>）的基础上进行改进，但同时语法也变得更加陌生，难度因此也加大了不少，不过这并没有难倒笔者。构建多模块的基本步骤与上面类似：</p>
<ul>
<li>使用<code>Spring Initializer</code>创建项目</li>
<li>修改<code>build.gradle.kts</code></li>
<li>创建模块</li>
<li>编写模块</li>
<li>运行</li>
<li>测试</li>
</ul>
<h2 id="41-创建项目">4.1 创建项目</h2>
<p>选择<code>Kotlin</code>+<code>Gradle</code>：</p>
<figure data-type="image" tabindex="28"><img src="https://img-blog.csdnimg.cn/20210302191228379.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>依赖：</p>
<figure data-type="image" tabindex="29"><img src="https://img-blog.csdnimg.cn/20210302191254471.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>同样<strong>删除<code>src</code></strong>：</p>
<figure data-type="image" tabindex="30"><img src="https://img-blog.csdnimg.cn/20210302194145804.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="42-修改buildgradlekts">4.2 修改<code>build.gradle.kts</code></h2>
<p>同样在尾部<strong>添加一个空的<code>subprojects</code></strong>：</p>
<figure data-type="image" tabindex="31"><img src="https://img-blog.csdnimg.cn/20210302191442159.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p><strong>把<code>dependencies</code>以及<code>tasks</code>移动进去</strong>：</p>
<figure data-type="image" tabindex="32"><img src="https://img-blog.csdnimg.cn/20210302191518343.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="33"><img src="https://img-blog.csdnimg.cn/20210302191614874.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>最后<strong>在<code>subprojects</code>开始处<code>apply</code>插件</strong>，<strong>根据默认的插件进行<code>apply</code></strong>：</p>
<figure data-type="image" tabindex="34"><img src="https://img-blog.csdnimg.cn/20210302194246705.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>代码如下：</p>
<pre><code class="language-bash">apply{
    plugin(&quot;io.spring.dependency-management&quot;)
    plugin(&quot;org.springframework.boot&quot;)
    plugin(&quot;org.jetbrains.kotlin.plugin.spring&quot;)
    plugin(&quot;org.jetbrains.kotlin.jvm&quot;)
}
</code></pre>
<p><strong><code>plugins</code>中的<code>kotlin</code>是<code>org.jetbrains.kotlin</code>的简写</strong>，在<code>subprjects</code>中注意加上即可。</p>
<h2 id="43-创建模块">4.3 创建模块</h2>
<p><code>File -&gt; New -&gt; Module</code>，把一些必要选项勾选上：</p>
<figure data-type="image" tabindex="35"><img src="https://img-blog.csdnimg.cn/20210302194457119.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>这里同样创建两个模块：</p>
<ul>
<li><code>app</code></li>
<li><code>service</code></li>
</ul>
<figure data-type="image" tabindex="36"><img src="https://img-blog.csdnimg.cn/2021030219454215.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="37"><img src="https://img-blog.csdnimg.cn/20210302194600752.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>同样把两个模块中的**<code>build.gradle.kts</code>删除其他部分留下<code>repositories</code>**：</p>
<figure data-type="image" tabindex="38"><img src="https://img-blog.csdnimg.cn/2021030219473681.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="44-编写模块">4.4 编写模块</h2>
<h3 id="441-service模块">4.4.1 <code>service</code>模块</h3>
<p>首先根据根目录的<code>build.gradle.kts</code><strong>创建包</strong>：</p>
<figure data-type="image" tabindex="39"><img src="https://img-blog.csdnimg.cn/2021030219485442.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="40"><img src="https://img-blog.csdnimg.cn/20210302194928711.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>编写<code>TestService</code>：</p>
<figure data-type="image" tabindex="41"><img src="https://img-blog.csdnimg.cn/20210302195018197.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>最后修改<code>build.gradle.kts</code>，<strong>加上<code>tasks.bootJar</code>与<code>tasks.jar</code></strong>：</p>
<pre><code class="language-bash">tasks.bootJar{
    enabled = false
}

tasks.jar{
    enabled = true
}
</code></pre>
<figure data-type="image" tabindex="42"><img src="https://img-blog.csdnimg.cn/20210302195205578.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h3 id="442-app模块">4.4.2 <code>app</code>模块</h3>
<p>先<strong>创建包</strong>：</p>
<figure data-type="image" tabindex="43"><img src="https://img-blog.csdnimg.cn/20210302195304362.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p><strong>添加对<code>service</code>模块的依赖</strong>：</p>
<figure data-type="image" tabindex="44"><img src="https://img-blog.csdnimg.cn/20210302195354683.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>再创建一个启动类以及一个<code>Controller</code>：</p>
<figure data-type="image" tabindex="45"><img src="https://img-blog.csdnimg.cn/20210302195607272.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>代码如下：</p>
<pre><code class="language-kotlin">package com.example

import org.springframework.boot.SpringApplication
import org.springframework.boot.autoconfigure.SpringBootApplication

@SpringBootApplication
class Application

fun main(args:Array&lt;String&gt;) {
    SpringApplication.run(Application::class.java,*args)
}
</code></pre>
<pre><code class="language-kotlin">package com.example.controller

import com.example.service.TestService
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.web.bind.annotation.GetMapping
import org.springframework.web.bind.annotation.RestController

@RestController
class TestController {
    @Autowired
    lateinit var service: TestService
    @GetMapping(&quot;/test&quot;)
    fun test() = service.test()
}
</code></pre>
<h2 id="45-运行">4.5 运行</h2>
<p>点击<code>main</code>旁边的绿色小三角即可：</p>
<figure data-type="image" tabindex="46"><img src="https://img-blog.csdnimg.cn/20210302195715732.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>运行成功：</p>
<figure data-type="image" tabindex="47"><img src="https://img-blog.csdnimg.cn/2021030219575668.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>同样可以访问<code>localhost:8080/test</code>：</p>
<figure data-type="image" tabindex="48"><img src="https://img-blog.csdnimg.cn/20210302195852323.png" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="46-测试">4.6 测试</h2>
<p>注意在编写测试之前需要保证测试类与启动类在同一个包下，也就是需要<strong>先创建包</strong>：</p>
<figure data-type="image" tabindex="49"><img src="https://img-blog.csdnimg.cn/20210302201002664.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>再创建测试类：</p>
<figure data-type="image" tabindex="50"><img src="https://img-blog.csdnimg.cn/20210302201052939.png" alt="在这里插入图片描述" loading="lazy"></figure>
<pre><code class="language-kotlin">package com.example

import com.example.service.TestService
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.context.SpringBootTest

@SpringBootTest
class KotlinTest {
    @Autowired
    lateinit var service: TestService
    @Test
    fun test(){
        println(service.test())
    }
}
</code></pre>
<p>直接点击小三角测试即可：</p>
<figure data-type="image" tabindex="51"><img src="https://img-blog.csdnimg.cn/20210302201159661.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>测试通过，这样<code>Kotlin+Gradle+Kotlin DSL</code>的多模块<code>Spring Boot</code>项目就算创建完成了。</p>
<h1 id="5-总结">5 总结</h1>
<p>笔者在实践的过程中也遇到了无数的错误，比如找不到类，或者<code>build.gradle</code>/<code>build.gradle.kts</code>文件错误，幸好有万能的搜索引擎，帮笔者解决了错误，最后才成功写下这篇文章。</p>
<p>总的来说，<code>Gradle</code>创建多模块项目要比<code>Maven</code>要难，而且<code>Gradle</code>的更新速度很快，语法变化较大，相比之下<code>Maven</code>非常稳定，最新的<code>Maven 3.6.3</code>还是19年11月发布的，然而<code>Gradle</code>都准备<code>7.0</code>了：</p>
<figure data-type="image" tabindex="52"><img src="https://img-blog.csdnimg.cn/20210302201723618.png" alt="在这里插入图片描述" loading="lazy"></figure>
<figure data-type="image" tabindex="53"><img src="https://img-blog.csdnimg.cn/20210302201753711.png" alt="在这里插入图片描述" loading="lazy"></figure>
<p>笔者建议，如果是真的需要使用<code>Gradle</code>，需要考虑一下团队的状况，毕竟上手难度要大于<code>Maven</code>，如果在<code>Gradle</code>创建多模块的过程中遇到一些极其难以解决的问题，转为<code>Maven</code>不失为一个好办法。</p>
<h1 id="6-源码">6 源码</h1>
<p>附上两个例子的源码：</p>
<ul>
<li><a href="https://github.com/2293736867/JavaAndKotlinMultiModulesGradleSpringBootProjectDemo">Github</a></li>
<li><a href="https://gitee.com/u6b7b5fc3/JavaAndKotlinMultiModulesGradleSpringBootProjectDemo">码云</a></li>
<li><a href="https://codechina.csdn.net/qq_27525611/JavaAndKotlinMultiModulesGradleSpringBootProjectDemo">CODE CHINA</a></li>
</ul>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="https://2293736867.github.io/post/jvm-xue-xi-bi-ji-yi-jvm-chu-tan/">
              <h3 class="post-title">
                下一篇：JVM学习笔记（一）：JVM初探
              </h3>
            </a>
          </div>
          
      </div>

      
        
          <div id="gitalk-container"></div>
        

        
      

      <div class="site-footer">
  <div class="slogan">我配不上你，
纵然很努力。</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://2293736867.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '477bf133e6f4f92e3d3d',
        clientSecret: 'c917fc4292d22d69e98b9521ac1e6fca627fe54c',
        repo: '2293736867.github.io',
        owner: '2293736867',
        admin: ['2293736867'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
